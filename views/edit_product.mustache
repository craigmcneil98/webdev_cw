<html>
<head>
    {{>header}}
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelector('form').addEventListener('submit', function(event) {
                const confirmed = confirm("Are you sure you want to update this product?");
                if (!confirmed) {
                    event.preventDefault();
                }
            });
        });
    </script>
</head>
<body>
    <header class="bg-dark text-white text-center py-3">
        <h1>Edit Product</h1>
        {{>nav}}
    </header>

    <main class="container mt-5">
        <form action="/product/edit/{{_id}}/save" method="post">
            <input type="hidden" name="_id" value="{{_id}}">
            
            <div class="card mb-4">
                <div class="card-body">
                    <div class="form-group">
                        <label for="name">Product Name:</label>
                        <input type="text" id="name" name="name" value="{{name}}" required>
                    </div>
                    <div class="form-group">
                        <label for="price">Price:</label>
                        <input type="number" id="price" name="price" step="0.01" value="{{price}}" required>
                    </div>
                    <div class="form-group">
                        <label for="description">Description:</label>
                        <textarea id="description" name="description" rows="4" required>{{description}}</textarea>
                    </div>
                    <div class="form-group">
                        <label for="location">Location:</label>
                        <input type="text" id="location" name="location" value="{{location}}" required>
                    </div>
                    
                    <button type="submit" class="btn btn-primary">Update Product</button>
                    <a href="/products" class="btn btn-secondary ml-3">Cancel</a>
                </div>
            </div>
        </form>
    </main>

    <footer class="bg-dark text-white text-center py-3 mt-5">
        {{>footer}}
    </footer>
</body>
</html>